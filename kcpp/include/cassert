// vim: set filetype=cpp:

#ifndef enable_assert
#define enable_assert 1
#endif

#undef assert
#define assert(X) \
    do { if (enable_assert && !(X)) { std::assert_failed(__FILE__, __LINE__, #X); } } while (0)

namespace std {
void assert_failed(const char* file, int line, const char* msg) __attribute__((unused)) __attribute__((noreturn));
}
